version: '3.3'

services:
  jupyxplorer:
    build:
      context: ../../
      dockerfile: Dockerfile
    image: hypnosapos/jupyxplorer:latest
    command: >-
      bash -c 'set -e; jupyxplorer -c /tmp/config.yaml;
      [ -f ".output/exploration_cat.ipynb" ] && [ -f ".output/exploration_num.ipynb" ]'
    volumes:
    - ./sample_config.yaml:/tmp/config.yaml:ro
